# WARNING: This file is autogenerated by make-yaml. Changes here
# will be overwritten. Edit the corresponding .template file
# instead.

version: "3"

services:
  crkeng:
    restart: always
    build:
      context: ..
      dockerfile: docker/Dockerfile
    # Specify hostname to make it clearer which container is active when
    # using docker to get a shell in the container.
    hostname: crkeng-frontend-container
    command: /app/app.sh crkeng
    ports:
      - "3000:3000" # http
      - "4000:4141" # uWSGI stats
    volumes:
      - "./.env.crkeng:/app/.env.crkeng"

      - "/data_local/application-data/crkeng/vector_models:/app/src/crkeng/resources/vector_models/"
      - "/data_local/application-data/crkeng/db:/app/src/crkeng/db/"
      - "/data_local/application-data/crkeng/search_quality:/app/src/crkeng/CreeDictionary/search_quality/"
  cwdeng:
    restart: always
    build:
      context: ..
      dockerfile: docker/Dockerfile
    # Specify hostname to make it clearer which container is active when
    # using docker to get a shell in the container.
    hostname: cwdeng-frontend-container
    command: /app/app.sh cwdeng
    ports:
      - "3002:3000" # http
      - "4002:4141" # uWSGI stats
    volumes:
      - "./.env.cwdeng:/app/.env.cwdeng"

      - "/data_local/application-data/cwdeng/vector_models:/app/src/cwdeng/resources/vector_models/"
      - "/data_local/application-data/cwdeng/db:/app/src/cwdeng/db/"
      - "/data_local/application-data/cwdeng/search_quality:/app/src/cwdeng/CreeDictionary/search_quality/"
  srseng:
    restart: always
    build:
      context: ..
      dockerfile: docker/Dockerfile
    # Specify hostname to make it clearer which container is active when
    # using docker to get a shell in the container.
    hostname: srseng-frontend-container
    command: /app/app.sh srseng
    ports:
      - "3001:3000" # http
      - "4001:4141" # uWSGI stats
    volumes:
      - "./.env.srseng:/app/.env.srseng"

      - "/data_local/application-data/srseng/vector_models:/app/src/srseng/resources/vector_models/"
      - "/data_local/application-data/srseng/db:/app/src/srseng/db/"
      - "/data_local/application-data/srseng/search_quality:/app/src/srseng/CreeDictionary/search_quality/"
  arpeng:
    restart: always
    build:
      context: ..
      dockerfile: docker/Dockerfile
    # Specify hostname to make it clearer which container is active when
    # using docker to get a shell in the container.
    hostname: arpeng-frontend-container
    command: /app/app.sh arpeng
    ports:
      - "3004:3000" # http
      - "4004:4141" # uWSGI stats
    volumes:
      - "./.env.arpeng:/app/.env.arpeng"

      - "/data_local/application-data/arpeng/vector_models:/app/src/arpeng/resources/vector_models/"
      - "/data_local/application-data/arpeng/db:/app/src/arpeng/db/"
      - "/data_local/application-data/arpeng/search_quality:/app/src/arpeng/CreeDictionary/search_quality/"
  hdneng:
    restart: always
    build:
      context: ..
      dockerfile: docker/Dockerfile
    # Specify hostname to make it clearer which container is active when
    # using docker to get a shell in the container.
    hostname: hdneng-frontend-container
    command: /app/app.sh hdneng
    ports:
      - "3003:3000" # http
      - "4003:4141" # uWSGI stats
    volumes:
      - "./.env.hdneng:/app/.env.hdneng"

      - "/data_local/application-data/hdneng/vector_models:/app/src/hdneng/resources/vector_models/"
      - "/data_local/application-data/hdneng/db:/app/src/hdneng/db/"
      - "/data_local/application-data/hdneng/search_quality:/app/src/hdneng/CreeDictionary/search_quality/"
